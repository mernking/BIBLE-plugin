(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{7268:(e,t,s)=>{Promise.resolve().then(s.bind(s,8229))},8229:(e,t,s)=>{"use strict";let n;s.r(t),s.d(t,{default:()=>c});var r=s(6166),a=s(5766),o=s(7011);function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[d,m]=(0,a.useState)(""),[x,u]=(0,a.useState)(!1),[h,b]=(0,a.useState)({backgroundColor:"transparent",fontSize:32,fontFamily:"Arial",textColor:"#000000",textAlign:"center",backgroundImage:"",backgroundVideo:"",backgroundOpacity:1,maxWidth:800,justifyContent:"center",alignItems:"center"});(0,a.useEffect)(()=>((async()=>{(n=(0,o.Ay)()).on("connect",()=>console.log("Connected to socket.io server")),n.on("disconnect",()=>console.log("Disconnected from socket.io server"))})(),(async()=>{u(!0);try{let e=await fetch("/api/hymns"),s=await e.json();t(s),c(s)}catch(e){console.error("Failed to fetch hymns:",e)}u(!1)})(),()=>{n&&n.disconnect()}),[]),(0,a.useEffect)(()=>{c(e.filter(e=>e.title.toLowerCase().includes(d.toLowerCase())))},[d,e]);let p=()=>{n&&l&&n.emit("setHymn",{hymn:l,styles:h})};return(0,r.jsxs)("div",{className:"p-4 bg-background text-text min-h-screen",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4 text-primary",children:"Hymn Control"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"search-bar",className:"block text-sm font-medium text-text",children:"Search Hymn:"}),(0,r.jsx)("input",{type:"text",id:"search-bar",className:"mt-1 block w-full pl-3 pr-3 py-2 text-base border border-primary focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-background text-text shadow-sm",placeholder:"e.g., Amazing Grace",value:d,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2 text-accent",children:"Hymn List"}),(0,r.jsx)("div",{className:"border rounded-md p-2 h-48 overflow-y-auto bg-secondary/20",children:x?(0,r.jsx)("p",{className:"text-text/50",children:"Loading..."}):s.length>0?s.map(e=>(0,r.jsx)("div",{className:"p-2 cursor-pointer hover:bg-primary/50 ".concat((null==l?void 0:l.id)===e.id?"bg-primary":""),onClick:()=>i(e),onDoubleClick:()=>{i(e),p()},children:(0,r.jsx)("p",{className:"font-semibold text-text",children:e.title})},e.id)):(0,r.jsx)("p",{className:"text-text/50",children:"No hymns found."})})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:p,className:"bg-primary text-white px-4 py-2 rounded-md hover:opacity-80",children:"Go Live"}),(0,r.jsx)("button",{onClick:()=>{n&&(n.emit("clearHymn"),i(null))},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:opacity-80",children:"Clear"})]})]})}}},e=>{e.O(0,[11,544,134,358],()=>e(e.s=7268)),_N_E=e.O()}]);